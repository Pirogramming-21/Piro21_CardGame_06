{% extends 'base.html' %}
<<<<<<< HEAD
<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <title>ê²Œì„ ë¦¬ìŠ¤íŠ¸</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
{% block content %}

<body>
    <!-- <div class="psa_container">
        <main class="psa_main">
            <h2 class="psa_main_title">History List</h2>
            <div id="currentPlayer">í˜„ì¬ í”Œë ˆì´ì–´: user1</div>
            <div class="psa_game_list">
                <div class="psa_game_item" id="game_1">
                    <div class="psa_game_info">
                        1 - user1 VS user2
                        <form action="#" method="post">
                            <button type="submit" class="psa_btn_cancel">ê²Œì„ ì·¨ì†Œ</button>
                        </form>
                        <div class="psa_game_result">ê²°ê³¼: ì§„í–‰ì¤‘</div>
                    </div>
                    <button class="psa_btn_info" onclick="getGameInfo(1)">ê²Œì„ì •ë³´</button>
                </div>
                <div class="psa_game_item" id="game_2">
                    <div class="psa_game_info">
                        2 - user3 VS user1
                        <form action="#" method="post">
                            <button type="submit" class="psa_btn_counter">ë°˜ê²©</button>
                        </form>
                        <div class="psa_game_result">ê²°ê³¼: CounterAttack</div>
                    </div>
                    <button class="psa_btn_info" onclick="getGameInfo(2)">ê²Œì„ì •ë³´</button>
                </div>
                <div class="psa_game_item" id="game_3">
                    <div class="psa_game_info">
                        3 - user2 VS user3
                        <div class="psa_game_result">ê²°ê³¼: ìŠ¹ë¦¬</div>
                    </div>
                    <button class="psa_btn_info" onclick="getGameInfo(3)">ê²Œì„ì •ë³´</button>
                </div>
            </div>
        </main>
    </div> -->
    <div class="psa_container">
        <div>{{ user.username }}</div>
        <hr />
        <div class="flex_box">
            {% for game, attacker_name, defender_name in game_list_name %}
            <article>
                <div>
                    <span>{{game.id}}</span> - {{game.attackerId}} VS {{game.defenderId}}
                </div>
                <div>
                    <!-- ê³µê²©ìê°€ ë¡œê·¸ì¸í•œ ì‚¬ëŒì´ê³ , statusê°€ ì§„í–‰ì¤‘(0) ì´ë¼ë©´ -->
                    {% if attacker_name == user.username and not game.status %}
                    <div>ì§„í–‰ì¤‘</div>
                    <button class="btn"><a href="{% url 'game:cancel' game.pk%}">ê²Œì„ì·¨ì†Œ</a></button>
                    {% elif defender_name == user.username and not game.status %}
                    <div><a href="{% url 'game:counter' game.id %}">CounterAttack</a></div>
                    <!-- statusê°€ ê²Œì„ ì¢…ë£Œ(1) ì´ë¼ë©´ -->
                    {% else %}
                    <div>ê²°ê³¼
                        {% if game.winner == user.id %}
                        ìŠ¹ë¦¬
                        {% elif game.winner == -1 %}
                        ë¬´ìŠ¹ë¶€
                        {% else %}
                        íŒ¨ë°°
                        {% endif %}
                    </div>
                    {% endif %}
                    <a href="{% url 'game:gameInfo' game.id %}">ê²Œì„ì •ë³´</a>
                </div>
            </article>
            {% endfor %}
=======
{% load static %}

{% block content %}
<div class="psa_container">
    <div class="current-player">í˜„ì¬ í”Œë ˆì´ì–´: {{ user.username }}</div>
    <div class="history-list">
        {% for game, attacker_name, defender_name in page_obj %}
        <div class="history-item">
            <div class="history-info">
                <span>{{ forloop.revcounter }}</span> - {{ attacker_name }} VS {{ defender_name }}
            </div>
            {% if attacker_name == user.username and not game.status %}
            <div class="progress-container">
                <span class="progress">ì§„í–‰ì¤‘...</span>
                <button class="cancel-progress-btn">
                    <a href="{% url 'game:cancel' game.pk %}">ê²Œì„ì·¨ì†Œ</a>
                </button>
            </div>
            {% elif defender_name == user.username and not game.status %}
            <button class="counter-attack">
                <a href="{% url 'game:counter' game.id %}">CounterAttack</a>
            </button>
            {% else %}
            <div>ê²°ê³¼:
                {% if game.winner == user.id %}
                ğŸ¤­ğŸ¤­ ìŠ¹ë¦¬ ğŸ¤­ğŸ¤­
                {% elif game.winner == -1 %}
                ğŸš©ğŸš© ë¬´ìŠ¹ë¶€ ğŸš©ğŸš©
                {% else %}
                ğŸ¥¹ğŸ¥¹ íŒ¨ë°° ğŸ¥¹ğŸ¥¹
                {% endif %}
            </div>
            {% endif %}
            <button class="game-info-btn">
                <a href="{% url 'game:gameInfo' game.id %}">ê²Œì„ì •ë³´</a>
            </button>
>>>>>>> a191347ac8f06860860ef95835a4946daa454502
        </div>
        {% endfor %}
    </div>

    <div class="pagination">
        <span class="step-links">
            {% if page_obj.has_previous %}
            <a href="?page={{ page_obj.previous_page_number }}">ì´ì „</a>
            {% endif %}

<<<<<<< HEAD
    <script>
        function getGameInfo(gameId) {
            alert("ê²Œì„ ì •ë³´: " + gameId);
        }
    </script>
</body>
{% endblock %}

</html>
=======
            <span class="current">
                í˜ì´ì§€ {{ page_obj.number }} / {{ page_obj.paginator.num_pages }}
            </span>

            {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}">ë‹¤ìŒ</a>
            {% endif %}
        </span>
    </div>

</div>
{% endblock %}
>>>>>>> a191347ac8f06860860ef95835a4946daa454502
